{"version":3,"sources":["components/Chat/Chat.js","icons/onlineIcon.png","components/TextContainer/TextContainer.js","components/Additions/dateFormatter.js","components/Messages/Message/Message.js","components/Additions/fileNameFormatter.js","components/FileSave/FileSave.js","components/ImageShower/ImageShower.js","components/Messages/Messages.js","components/InfoBar/InfoBar.js","components/Input/Input.js","components/FileSpawn/FileSpawn.js","App.js","index.js"],"names":["socket","userName","TextContainer","users","closeModal","className","src","process","alt","onClick","e","a","style","cursor","map","name","onlineIcon","date","oldDate","Date","currentDate","getFullYear","getMonth","getDay","toLocaleTimeString","hour","minute","day","month","year","Message","message","text","user","type","isSentByCurrentUser","trim","findUrl","textToFind","out","replace","url","old","ReactHtmlParser","dateFormatter","fileName","filename","substring","lastIndexOf","ext","length","slice","FileSave","href","fileNameFormatter","ImageShower","target","Messages","messages","loadOld","emit","i","InfoBar","test","event","preventDefault","props","openModal","this","room","userscount","Component","fileInLoadKey","Input","sendMessageFunction","inputField","document","getElementsByClassName","setMessageType","focus","setMessage","sendMessage","onChangeHandler","formatingFile","files","alert","size","setSelectedFile","uploadFile","onKeyboardPressed","items","clipboardData","originalEvent","index","item","kind","blobs","getAsFile","file","sasURL","blobServiceClient","BlobServiceClient","containerClient","getContainerClient","blobName","getTime","blockBlobClient","getBlockBlobClient","uploadData","setFileName","sendFile","inputs","querySelector","value","setLoaded","placeholder","onKeyPress","key","onChange","onPaste","hidden","click","FileSpawn","selectedFile","filesArray","f","lastModified","id","curLoadedcount","IsOpen","Chat","location","useState","loaded","messageType","messageDate","setMessageDate","setName","setRoom","setUsers","setMessages","React","modalIsOpen","setIsOpen","ENDPOINT","useEffect","queryString","parse","search","room_id","secret","io","error","on","col","sendDate","getElementById","play","_","unionBy","window","addEventListener","innerWidth","status","preload","isOpen","onRequestClose","contentLabel","ariaHideApp","Fragment","App","path","exact","component","ReactDOM","render"],"mappings":"uUAaIA,EAEAC,E,sICfW,m4ECmCAC,G,OA9BO,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,WAC9B,OACE,sBAAKC,UAAU,gBAAf,UACE,qBACEC,IAAKC,0BACLC,IAAI,QACJH,UAAU,gBACVI,QAAO,uCAAE,WAAOC,GAAP,SAAAC,EAAA,sDACPP,IADO,2CAAF,sDAGPQ,MAAO,CAAEC,OAAQ,aAElBV,EACC,gCACE,uEACA,qBAAKE,UAAU,kBAAf,SACE,6BACGF,EAAMW,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OACT,sBAAgBV,UAAU,aAA1B,UACGU,EACD,qBAAKP,IAAI,cAAcF,IAAKU,MAFpBD,aAQhB,U,kBC9BK,G,OAAA,SAACE,GACZ,IACIC,EAAU,IAAIC,KAAKF,GACnBG,EAAc,IAAID,KAWtB,OAVGD,EAAQG,gBAAkBD,EAAYC,cAClCH,EAAQI,aAAeF,EAAYE,YAAcJ,EAAQK,WAAaH,EAAYG,SAC7EL,EAAQM,mBAAmB,GAAI,CAACC,KAAM,UAAWC,OAAO,YAExDR,EAAQM,mBAAmB,GAAI,CAACG,IAAK,UAAUC,MAAO,QAAUH,KAAM,UAAWC,OAAO,YAG5FR,EAAQM,mBAAmB,GAAI,CAACG,IAAK,UAAUC,MAAO,QAAUH,KAAM,UAAWI,KAAM,UAAWH,OAAO,c,kBC0CtGI,EAhDC,SAAC,GAAmD,IAAD,IAAhDC,QAAWC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,KAAYhB,GAAmB,EAAzBiB,KAAyB,EAAnBjB,MAC1CkB,GAAsB,EAItBF,IAL6D,EAAXlB,KAG7BqB,SAGvBD,GAAsB,GAGxB,IAAME,EAAU,SAACC,GACf,IAEIC,EAAMD,EAAWE,QAFN,qHAEwB,SAAUC,GAC/C,IAAIC,EAAMD,EACAA,EAAID,QAAQ,QAAQ,IAG9B,OAFMC,EAAID,QAAQ,OAAO,IAElB,kCADDC,EAAID,QAAQ,MAAM,SACyB,qBAAuBE,EAAM,UAIhF,OAAOC,IAAgBJ,IAGzB,OAAOJ,EACL,qBAAK9B,UAAU,8BAAf,SACE,sBAAKA,UAAU,4BAAf,UACE,mBAAGA,UAAU,iCAAb,SACCgC,EAAQL,KAET,qBAAK3B,UAAU,OAAf,SACE,mBAAGA,UAAU,sBAAb,SAAoCuC,EAAc3B,YAKxD,qBAAKZ,UAAU,gCAAf,SACE,sBAAKA,UAAU,6BAAf,UACE,mBAAGA,UAAU,WAAb,SAAyB4B,IACzB,mBAAG5B,UAAU,yBAAb,SAAuCgC,EAAQL,KAC/C,qBAAK3B,UAAU,QAAf,SACE,mBAAGA,UAAU,mBAAb,SAAiCuC,EAAc3B,aC9C1C,G,OAAA,SAAC4B,GAEZ,IAAIC,EAAWD,EAASE,UAAU,EAAGF,EAASG,YAAY,MACtDC,EAAMJ,EAASE,UAAUF,EAASG,YAAY,MAWlD,OATIF,EAASI,OAAS,KACpBJ,EACAA,EAASK,MAAM,EAAG,IAAM,OAIXL,EAAWG,IC2CfG,EAjDE,SAAC,GAAmD,IAAD,IAAhDrB,QAAWC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,KAAYhB,GAAmB,EAAzBiB,KAAyB,EAAnBjB,MAC3CkB,GAAsB,EAQ1B,OAJIF,IAL8D,EAAXlB,KAG9BqB,SAGvBD,GAAsB,GAGjBA,EACL,qBAAK9B,UAAU,8BAAf,SACE,sBAAKA,UAAU,4BAAf,UACE,mBACEgD,KAAI,kBAAa9C,UAAb,kCAAiFA,YAAjF,YAAyHyB,GAD/H,SAGE,+BACE,oBAAG3B,UAAU,yBAAb,UACA,qBAAKC,IAAKC,+BAA4CC,IAAI,YAAYH,UAAU,gBAC7EiD,EAAkBtB,UAIzB,qBAAK3B,UAAU,OAAf,SACE,mBAAGA,UAAU,sBAAb,SAAoCuC,EAAc3B,YAKxD,qBAAKZ,UAAU,gCAAf,SACE,sBAAKA,UAAU,6BAAf,UACE,mBAAGA,UAAU,WAAb,SAAyB4B,IACzB,mBACEoB,KAAI,kBAAa9C,UAAb,kCAAiFA,YAAjF,YAAyHyB,GAD/H,SAGE,+BACE,oBAAG3B,UAAU,wBAAb,UACE,qBAAKC,IAAKC,+BAA4CC,IAAI,YAAYH,UAAU,gBAC/EiD,EAAkBtB,UAIzB,qBAAK3B,UAAU,QAAf,SACE,mBAAGA,UAAU,mBAAb,SAAiCuC,EAAc3B,aCF1CsC,G,OAvCK,SAAC,GAAiD,IAAD,IAA9CxB,QAAWC,EAAmC,EAAnCA,KAAMC,EAA6B,EAA7BA,KAAWhB,GAAkB,EAAvBiB,KAAuB,EAAlBjB,MAE7CkB,GAAsB,EAS1B,OAJIF,IAP+D,EAAXlB,KAK/BqB,SAGvBD,GAAsB,GAGjBA,EACL,qBAAK9B,UAAU,8BAAf,SACE,sBAAKA,UAAU,qCAAf,UACE,mBAAGgD,KAAI,kBAAa9C,UAAb,kCAAiFA,YAAjF,YAAyHyB,GAAhI,SACE,qBAAK3B,UAAU,eAAgBC,IAAG,kBAAeC,UAAf,kCAAmFA,YAAnF,YAA2HyB,GAASxB,IAAK8C,EAAkBtB,GAAOwB,OAAO,aAE3M,qBAAKnD,UAAY,qBAAjB,SACA,mBAAGA,UAAY,sBAAf,SAAsCuC,EAAc3B,YAK1D,qBAAKZ,UAAU,gCAAf,SACE,sBAAKA,UAAU,sCAAf,UACA,mBAAGA,UAAU,WAAb,SAAyB4B,IACvB,mBAAGoB,KAAI,kBAAa9C,UAAb,kCAAiFA,YAAjF,YAAyHyB,GAAhI,SACA,qBAAK3B,UAAU,eAAgBC,IAAG,kBAAeC,UAAf,kCAAmFA,YAAnF,YAA2HyB,GAASxB,IAAK8C,EAAkBtB,GAAOwB,OAAO,aAE3M,qBAAKnD,UAAY,wBAAjB,SACE,mBAAGA,UAAY,mBAAf,SAAmCuC,EAAc3B,cCgD5CwC,G,OA3EE,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,SAAU3C,EAA2B,EAA3BA,KAAM4C,EAAqB,EAArBA,QAAS3D,EAAY,EAAZA,OAiB3C,OACE,eAAC,IAAD,CAAgBK,UAAU,WAA1B,UAhBgB,IAAZsD,EACK,KAGL,qBACEtD,UAAU,oBACVI,QAAO,uCAAE,WAAOC,GAAP,SAAAC,EAAA,sDACPX,EAAO4D,KAAK,WAAYD,GADjB,2CAAF,sDAFT,SAME,mBAAGtD,UAAU,WAAb,mCAQHqD,EAAS5C,KAAI,SAACiB,EAAS8B,GACtB,IAAI7B,EACJ,OAAQD,EAAQG,MACd,IAAK,OAEDF,EADQ,IAAN6B,EAEA,gCACE,uBACC,cAAC,EAAD,CAAS9B,QAASA,EAAShB,KAAMA,MAF1B8C,GAOV,8BAAc,cAAC,EAAD,CAAS9B,QAASA,EAAShB,KAAMA,KAArC8C,GAGd,MACF,IAAK,OAED7B,EADQ,IAAN6B,EAEA,gCACE,uBACC,cAAC,EAAD,CAAU9B,QAASA,EAAShB,KAAMA,MAF3B8C,GAOV,8BAAc,cAAC,EAAD,CAAU9B,QAASA,EAAShB,KAAMA,KAAtC8C,GAGd,MACF,IAAK,QAED7B,EADQ,IAAN6B,EAEA,gCACE,uBACC,cAAC,EAAD,CAAa9B,QAASA,EAAShB,KAAMA,MAF9B8C,GAOV,8BACG,cAAC,EAAD,CAAa9B,QAASA,EAAShB,KAAMA,KAD9B8C,GASlB,OAAO7B,U,gCClDA8B,G,mNAxBfC,KAAM,SAACC,GACPA,EAAMC,iBACL,EAAKC,MAAMC,a,uDAGA,IAAD,OACP,OACE,sBAAM9D,UAAU,UAAhB,SACE,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,aAAaC,IAAKU,EAAYR,IAAI,gBACjD,qBACEH,UAAU,gBACVI,QAAO,uCAAE,WAAOC,GAAP,SAAAC,EAAA,sDACP,EAAKoD,KAAKrD,GADH,2CAAF,sDAGPE,MAAO,CAAEC,OAAQ,WALnB,UAOGuD,KAAKF,MAAMG,KAPd,MAOuBD,KAAKF,MAAMI,WAPlC,gB,GAZYC,c,SCAlBC,G,QAAgB,GAmILC,E,4MApFbC,oB,uCAAsB,WAAOhE,GAAP,eAAAC,EAAA,sDAChBgE,EAAaC,SAASC,uBAAuB,SACjD,EAAKX,MAAMY,eAAe,QAC1BH,EAAW,GAAGI,QACd,EAAKb,MAAMc,WAAW,IACtB,EAAKd,MAAMe,YAAYvE,GALH,2C,wDAQtBwE,gB,uCAAkB,WAAOlB,GAAP,SAAArD,EAAA,sDAChB,EAAKwE,cAAcnB,EAAMR,OAAO4B,OADhB,2C,wDAIlBD,c,uCAAgB,WAAOC,GAAP,SAAAzE,EAAA,sDACT6D,EAQHa,MAAM,2OAPFD,EAAM,GAAGE,KAAO,SAClBD,MAAM,6HAEN,EAAKnB,MAAMqB,gBAAgBH,GAC3B,EAAKI,WAAWJ,EAAM,KANZ,2C,wDAahBK,kBAAoB,SAACzB,GACnB,IAAI0B,GAAS1B,EAAM2B,eAAiB3B,EAAM4B,cAAcD,eACrDD,MACH,IAAK,IAAIG,KAASH,EAAO,CACvB,IAAII,EAAOJ,EAAMG,GACjB,GAAkB,SAAdC,EAAKC,KAAiB,CACxB,IAEIC,EAAQ,CAFDF,EAAKG,aAGhB,EAAKd,cAAca,M,kGA/ERE,G,6FAEb,sKACIC,E,kBAAoB5F,U,kCADxB,uKAGI6F,EAAoB,IAAIC,IAAkBF,GAE1CG,EAAkBF,EAAkBG,mBACxChG,aAGIuC,EAAWoD,EAAKnF,KAAKgC,UAAU,EAAGmD,EAAKnF,KAAKiC,YAAY,MACxDC,EAAMiD,EAAKnF,KAAKgC,UAAUmD,EAAKnF,KAAKiC,YAAY,MAChDwD,EAAW1D,EAAW,KAAM,IAAI3B,MAAOsF,UAAYxD,EACnDyD,EAAkBJ,EAAgBK,mBAAmBH,GAE3DhC,GAAgB,EACZtC,EAAOgE,EAAKhE,K,UACVwE,EAAgBE,WAAWV,G,QAEjC1B,GAAgB,EAEL,cAATtC,GACS,cAATA,GACS,eAATA,GACS,eAATA,EAEAkC,KAAKF,MAAMY,eAAe,SAE1BV,KAAKF,MAAMY,eAAe,QAG5BV,KAAKF,MAAM2C,YAAYL,GACvBpC,KAAKF,MAAM4C,WACX1C,KAAKF,MAAMY,eAAe,SACtBiC,EAASnC,SAASoC,cAAc,eAC7BC,MAAQ,GACXF,EAAOE,QACTF,EAAO7E,KAAO,OACd6E,EAAO7E,KAAO,QAEhBkC,KAAKF,MAAMqB,gBAAgB,MAC3BnB,KAAKF,MAAMgD,UAAU,G,uIA0Cb,IAAD,OACP,OACE,uBAAM7G,UAAU,OAAhB,UACE,0BACEA,UAAU,QACV6B,KAAK,OACLiF,YAAY,oBACZF,MAAO7C,KAAKF,MAAMnC,QAClBqF,WAAY,SAACpD,GAAD,MACI,UAAdA,EAAMqD,IAAkB,EAAK3C,oBAAoBV,GAAS,MAE5DsD,SAAU,gBAAaL,EAAb,EAAGzD,OAAUyD,MAAb,OAA2B,EAAK/C,MAAMc,WAAWiC,IAC3DM,QAAS,SAAC7G,GAAD,OAAO,EAAK+E,kBAAkB/E,MAEzC,uBACEwB,KAAK,OACLsF,OAAO,SACPnH,UAAU,YACViH,SAAUlD,KAAKc,kBAEjB,qBACE5E,IAAKC,+BACLC,IAAI,YACJI,MAAO,CAAEC,OAAQ,WACjBJ,QAAS,SAACC,GACUkE,SAASoC,cAAc,cAC/BS,SAEZpH,UAAU,oBAGZ,qBACEC,IAAKC,yBACLC,IAAI,OACJI,MAAO,CAAEC,OAAQ,WACjBR,UAAU,aACVI,QAAO,uCAAE,WAAOC,GAAP,SAAAC,EAAA,sDACP,EAAK+D,oBAAoBhE,GADlB,2CAAF,+D,GAzHG6D,aCqBLmD,G,OArBG,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACbC,EAAU,YAAOD,GAEvB,OACE,8BACE,qBAAKtH,UAAU,qBAAf,SACE,qBAAKA,UAAU,qBAAf,SACGuH,EAAW9G,KAAI,SAAC+G,GAAD,OACd,sBAA0BxH,UAAU,WAApC,UACE,4BAAsCwH,EAAE9G,MAAhC8G,EAAEC,aAAe,IAAI3G,MAC7B,qBAAK4G,GAAG,mBAAR,SACA,qBAAKzH,IAAKC,yBAAsCC,IAAI,UAAUH,UAAY,sBAHlEwH,EAAEC,yB,oCXCpBE,G,OAAiB,GAEjBC,GAAS,EAqMEC,EAlMF,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACWC,mBAAS,MADpB,mBACtBT,EADsB,KACRpC,EADQ,OAED6C,mBAAS,GAFR,mBAEtBC,EAFsB,KAEdnB,EAFc,OAGSkB,mBAAS,QAHlB,mBAGtBE,EAHsB,KAGTxD,EAHS,OAIGsD,mBAAS,IAJZ,mBAItBvF,EAJsB,KAIZgE,EAJY,OAKSuB,mBAAS,IAAIjH,MALtB,mBAKtBoH,EALsB,KAKTC,EALS,OAMLJ,mBAAS,IANJ,mBAMtBrH,EANsB,KAMhB0H,EANgB,OAOLL,mBAAS,IAPJ,mBAOtB/D,EAPsB,KAOhBqE,EAPgB,OAQHN,mBAAS,IARN,mBAQtBjI,EARsB,KAQfwI,EARe,QASCP,mBAAS,IATV,qBAStBrG,GATsB,MASbiD,GATa,SAUGoD,mBAAS,IAVZ,qBAUtB1E,GAVsB,MAUZkF,GAVY,SAWIC,IAAMT,UAAS,GAXnB,qBAWtBU,GAXsB,MAWTC,GAXS,MAmB7B,SAAS3I,KACP2I,IAAU,GAEZ,IAAMC,GAAWzI,yBAEjB0I,qBAAU,WAAO,IAAD,EAC0BC,IAAYC,MAAMhB,EAASiB,QAA3DrI,EADM,EACNA,KAAMsD,EADA,EACAA,KAAMgF,EADN,EACMA,QAASC,EADf,EACeA,QAC7BtJ,EAASuJ,IAAGP,KACLpF,KAAK,OAAQ,CAAE7C,OAAMsI,UAASC,WAAU,SAACE,GAC1CA,GACFnE,MAAM,oHAGVpF,EAAWc,EACX2H,EAAQrE,GACRoE,EAAQ1H,GAERf,EAAOyJ,GAAG,gBAAgB,YAAwB,IAArB/F,EAAoB,EAApBA,SAAUgG,EAAU,EAAVA,IACrC1B,EAAiB0B,EACjBd,GAAY,IACZ,IAH+C,eAGtC/E,GAHsC,MAIDH,EAASG,GAA/C9C,EAJuC,EAIvCA,KAAMiB,EAJiC,EAIjCA,KAAMsG,EAJ2B,EAI3BA,YAAaqB,EAJc,EAIdA,SAC/Bf,IAAY,SAAClF,GAAD,4BACPA,GADO,CAEV,CACEzB,KAAMlB,EACNiB,KAAMA,EACNE,KAAMoG,EACNrH,KAAM0I,SARH9F,EAAI,EAAGA,EAAIH,EAASR,OAAQW,IAAM,EAAlCA,QAaV,CAACmF,GAAUb,EAASiB,SAEvBH,qBAAU,WACRjJ,EAAOyJ,GAAG,UAAV,uCAAqB,WAAO1H,GAAP,SAAApB,EAAA,sDACnBiI,IAAY,SAAClF,GAAD,4BAAkBA,GAAlB,CAA4B3B,OACpCA,EAAQE,OAAShC,GACP2E,SAASgF,eAAe,UAC9BC,OAJW,2CAArB,uDAQA7J,EAAOyJ,GAAG,sBAAsB,YAAuB,IAApB1H,EAAmB,EAAnBA,QAAS2H,EAAU,EAAVA,IAC1C1B,EAAiB0B,EACjB,IAFoD,eAE3C7F,GAF2C,MAGN9B,EAAQ8B,GAA9C9C,EAH4C,EAG5CA,KAAMiB,EAHsC,EAGtCA,KAAMsG,EAHgC,EAGhCA,YAAaqB,EAHmB,EAGnBA,SAC/Bf,IAAY,SAAClF,GAAD,OACV,CACEzB,KAAMlB,EACNiB,KAAMA,EACNE,KAAMoG,EACNrH,KAAM0I,IALE,mBAOPjG,QATEG,EAAI9B,EAAQmB,OAAS,EAAGW,GAAK,EAAGA,IAAM,EAAtCA,GAYT+E,IAAY,SAAClF,GAAD,4BAAkB3B,GAAlB,YAA8B2B,UAG5C1D,EAAOyJ,GAAG,QAAQ,SAAC1H,IACjB6G,IAAY,SAAClF,GAAD,4BAAkBA,GAAlB,CAA4B3B,OACpCA,EAAQE,OAAShC,IACP2E,SAASgF,eAAe,UAC9BC,UAIV7J,EAAOyJ,GAAG,YAAY,YAAgB,IAAbtJ,EAAY,EAAZA,MACvBwI,EAASmB,IAAEC,QAAQ5J,EAAM,cAE1B,IAEH6J,OAAOC,iBAAiB,UAAU,WACN,IAAtBD,OAAOE,WACLjC,IACFA,GAAS,EAETjI,EAAO4D,KAAK,WAAY,CAAEuG,QAAQ,KAG/BlC,IACHA,GAAS,EACTjI,EAAO4D,KAAK,WAAY,CAAEuG,QAAQ,QAKxC,IAAMlF,GAAW,uCAAG,WAAOjB,GAAP,SAAArD,EAAA,sDAClBqD,EAAMC,iBACFlC,KACF/B,EAAO4D,KAAK,cAAe,CAAE7B,WAASuG,cAAaC,gBAAe,WAChEvD,GAAW,OAGDJ,SAASgF,eAAe,SAC9BC,QARU,2CAAH,sDA0BjB,OACE,sBAAKxJ,UAAU,iBAAf,UACE,uBACE+J,QAAQ,WACRrC,GAAG,QACHzH,IAAI,4CAEN,uBACE8J,QAAQ,WACRrC,GAAG,SACHzH,IAAI,6CAGN,sBAAKD,UAAU,YAAf,UACE,cAAC,IAAD,CACEgK,OAAQvB,GACRwB,eAAgBlK,GAEhBmK,aAAa,gBACbC,aAAa,EALf,SAOE,cAAC,EAAD,CAAerK,MAAOA,EAAOC,WAAcA,OAE7C,cAAC,EAAD,CAASiE,KAAMA,EAAMC,WAAYnE,EAAM+C,OAAQiB,UA9IrD,WACE4E,IAAU,MA8IN,cAAC,EAAD,CACErF,SAAUA,GACV3C,KAAMA,EACN4C,QAASqE,EACThI,OAAQA,IAGT2H,GACC,cAAC,IAAM8C,SAAP,UACE,cAAC,EAAD,CACE9C,aAAcA,EACdpC,gBAAiBA,EACjB8C,OAAQA,MAId,cAAC,EAAD,CACEtG,QAASA,GACTc,SAAUA,EACVgE,YAAaA,EACb2B,eAAgBA,EAChB1B,SA5DS,WAEXjE,GACF7C,EAAO4D,KACL,cACA,CAAE7B,QAASc,EAAUyF,cAAaC,gBAClC,WACE1B,EAAY,OAINjC,SAASgF,eAAe,SAC9BC,QAiDA7E,WAAYA,GACZC,YAAaA,GACb0C,aAAcA,EACdpC,gBAAiBA,EACjB8C,OAAQA,EACRnB,UAAWA,EACXoB,YAAaA,EACbxD,eAAgBA,WYlMX4F,EANH,kBACV,cAAC,IAAD,UACE,cAAC,IAAD,CAAOC,KAAK,GAAGC,OAAK,EAACC,UAAW3C,OCHpC4C,IAASC,OAAO,cAAC,EAAD,IAASnG,SAASoC,cAAc,W","file":"static/js/main.740fffd1.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport queryString from \"query-string\";\nimport io from \"socket.io-client\";\nimport TextContainer from \"../TextContainer/TextContainer\";\nimport Messages from \"../Messages/Messages\";\nimport InfoBar from \"../InfoBar/InfoBar\";\nimport Input from \"../Input/Input\";\nimport FileSpawn from \"../FileSpawn/FileSpawn\";\nimport Modal from \"react-modal\";\nimport _ from \"lodash\"\n\nimport \"./Chat.css\";\n\nlet socket;\nlet curLoadedcount = 0;\nlet userName;\nlet IsOpen = true;\n\n\nconst Chat = ({ location }) => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [loaded, setLoaded] = useState(0);\n  const [messageType, setMessageType] = useState(\"text\");\n  const [fileName, setFileName] = useState(\"\");\n  const [messageDate, setMessageDate] = useState(new Date());\n  const [name, setName] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n  const [users, setUsers] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [modalIsOpen, setIsOpen] = React.useState(false);\n\n\n\n  function openModal() {\n    setIsOpen(true);\n  }\n\n  function closeModal() {\n    setIsOpen(false);\n  }\n  const ENDPOINT = process.env.REACT_APP_API_URL;\n\n  useEffect(() => {\n    const { name, room, room_id, secret } = queryString.parse(location.search);\n    socket = io(ENDPOINT);\n    socket.emit(\"join\", { name, room_id, secret }, (error) => {\n      if (error) {\n        alert(\"Помилка авторизації\");\n      }\n    });\n    userName = name;\n    setRoom(room);\n    setName(name);\n\n    socket.on(\"display-chat\", ({ messages, col }) => {\n      curLoadedcount = col;\n      setMessages([]);\n      for (let i = 0; i < messages.length; i++) {\n        let { name, text, messageType, sendDate } = messages[i];\n        setMessages((messages) => [\n          ...messages,\n          {\n            user: name,\n            text: text,\n            type: messageType,\n            date: sendDate,\n          },\n        ]);\n      }\n    });\n  }, [ENDPOINT, location.search]);\n\n  useEffect(() => {\n    socket.on(\"message\", async (message) => {\n      setMessages((messages) => [...messages, message]);\n      if (message.user !== userName) {\n        let audio = document.getElementById(\"output\");\n        audio.play();\n      }\n    });\n\n    socket.on(\"loaded-old-message\", ({ message, col }) => {\n      curLoadedcount = col;\n      for (let i = message.length - 1; i >= 0; i--) {\n        let { name, text, messageType, sendDate } = message[i];\n        setMessages((messages) => [\n          {\n            user: name,\n            text: text,\n            type: messageType,\n            date: sendDate,\n          },\n          ...messages,\n        ]);\n      }\n      setMessages((messages) => [...message, ...messages]);\n    });\n\n    socket.on(\"file\", (message) => {\n      setMessages((messages) => [...messages, message]);\n      if (message.user !== userName) {\n        let audio = document.getElementById(\"output\");\n        audio.play();\n      }\n    });\n\n    socket.on(\"roomData\", ({ users }) => {\n      setUsers(_.unionBy(users,\"name\"));\n    });\n  }, []);\n\n  window.addEventListener(\"resize\", function () {\n    if (window.innerWidth === 0) {\n      if (IsOpen) {\n        IsOpen = false;\n\n        socket.emit(\"setOpend\", { status: false });\n      }\n    } else {\n      if (!IsOpen) {\n        IsOpen = true;\n        socket.emit(\"setOpend\", { status: true });\n      }\n    }\n  });\n\n  const sendMessage = async (event) => {\n    event.preventDefault();\n    if (message) {\n      socket.emit(\"sendMessage\", { message, messageType, messageDate }, () => {\n        setMessage(\"\");\n      });\n\n      let audio = document.getElementById(\"input\");\n      audio.play();\n    }\n  };\n  const sendFile = (/*event*/) => {\n    /*  event.persist();*/\n    if (fileName) {\n      socket.emit(\n        \"sendMessage\",\n        { message: fileName, messageType, messageDate },\n        () => {\n          setFileName(\"\");\n        }\n      );\n    }\n    let audio = document.getElementById(\"input\");\n    audio.play();\n  };\n\n  return (\n    <div className=\"outerContainer\">\n      <audio\n        preload=\"metadata\"\n        id=\"input\"\n        src=\"https://sumy.in.ua/mix_sounds/input.mp3\"\n      ></audio>\n      <audio\n        preload=\"metadata\"\n        id=\"output\"\n        src=\"https://sumy.in.ua/mix_sounds/output.mp3\"\n      ></audio>\n\n      <div className=\"container\">\n        <Modal\n          isOpen={modalIsOpen}\n          onRequestClose={closeModal}\n        \n          contentLabel=\"Example Modal\"\n          ariaHideApp={false}\n        >\n          <TextContainer users={users} closeModal = {closeModal}/>\n        </Modal>\n        <InfoBar room={room} userscount={users.length} openModal={openModal}/>\n        <Messages\n          messages={messages}\n          name={name}\n          loadOld={curLoadedcount}\n          socket={socket}\n        />\n\n        {selectedFile && (\n          <React.Fragment>\n            <FileSpawn\n              selectedFile={selectedFile}\n              setSelectedFile={setSelectedFile}\n              loaded={loaded}\n            />\n          </React.Fragment>\n        )}\n        <Input\n          message={message}\n          fileName={fileName}\n          setFileName={setFileName}\n          setMessageDate={setMessageDate}\n          sendFile={sendFile}\n          setMessage={setMessage}\n          sendMessage={sendMessage}\n          selectedFile={selectedFile}\n          setSelectedFile={setSelectedFile}\n          loaded={loaded}\n          setLoaded={setLoaded}\n          messageType={messageType}\n          setMessageType={setMessageType}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAACxMAAAsTAQCanBgAAATtaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMTAtMDlUMTc6NDk6NTArMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTEwLTI2VDEzOjU3OjA2KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTEwLTI2VDEzOjU3OjA2KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiNGMzMGI0Mi0xZDNkLTgxNGMtODhhZS0wYmQ4MTI5YTFmMDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YjRjMzBiNDItMWQzZC04MTRjLTg4YWUtMGJkODEyOWExZjA3IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YjRjMzBiNDItMWQzZC04MTRjLTg4YWUtMGJkODEyOWExZjA3Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNGMzMGI0Mi0xZDNkLTgxNGMtODhhZS0wYmQ4MTI5YTFmMDciIHN0RXZ0OndoZW49IjIwMjAtMTAtMDlUMTc6NDk6NTArMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4EsltfAAAAhElEQVQImVXBsQ2CUBSG0e+/8B7GhMTOAaxsrd1AWYE17ChIXMEBaOy1snUQwhAmGMF3rT1HW3/E+XZvXdQS4NYV1aHJVrvVOb2/Jx+n0hOlcu3T0MfcoeYzwTSDOwmhZajN+acgIGFyOiQIGUhgBqN32fraPn3oI4uwsSJ/mbjE6tj8AOG/K/W6cNxkAAAAAElFTkSuQmCC\"","import React from \"react\";\nimport onlineIcon from \"../../icons/onlineIcon.png\";\n\nimport \"./TextContainer.css\";\n\nconst TextContainer = ({ users, closeModal }) => {\n  return (\n    <div className=\"textContainer\">\n      <img\n        src={process.env.PUBLIC_URL + \"/clear.svg\"}\n        alt=\"cross\"\n        className=\"closeModalWin\"\n        onClick={async (e) => {\n          closeModal();\n        }}\n        style={{ cursor: \"pointer\" }}\n      />\n      {users ? (\n        <div>\n          <h1>Онлайн:</h1>\n          <div className=\"activeContainer\">\n            <h2>\n              {users.map(({ name }) => (\n                <div key={name} className=\"activeItem\">\n                  {name}\n                  <img alt=\"Online Icon\" src={onlineIcon} />\n                </div>\n              ))}\n            </h2>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\nexport default TextContainer;\n","// eslint-disable-next-line import/no-anonymous-default-export\nexport default (date)=> {\n    let out;\n    let oldDate = new Date(date);\n    let currentDate = new Date();\n    if(oldDate.getFullYear() === currentDate.getFullYear()){\n        if(oldDate.getMonth() === currentDate.getMonth() && oldDate.getDay() === currentDate.getDay()){\n          out = oldDate.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\n        }else{\n          out = oldDate.toLocaleTimeString([], {day: '2-digit',month: 'short' , hour: '2-digit', minute:'2-digit'});\n        }\n    }else{\n      out = oldDate.toLocaleTimeString([], {day: '2-digit',month: 'short' , hour: '2-digit', year: 'numeric', minute:'2-digit'});\n    }\n\n    return out;\n}","import React from \"react\";\n\nimport \"./Message.css\";\nimport dateFormatter from \"../../Additions/dateFormatter.js\";\nimport ReactHtmlParser from 'react-html-parser';\n\nconst Message = ({ message: { text, user, type, date }, name }) => {\n  let isSentByCurrentUser = false;\n\n  const trimmedName = name.trim();\n\n  if (user === trimmedName) {\n    isSentByCurrentUser = true;\n  }\n\n  const findUrl = (textToFind) => {\n    var urlRegex = /((?:(?:https?|ftp|gopher|telnet|file|notes|ms-help):(?:\\/\\/|\\\\\\\\)(?:www\\.)?|www\\.)[\\w\\d:#@%/;$()~_?+,\\-=\\\\.&]+)/gi;\n\n    let out = textToFind.replace(urlRegex, function (url) {\n      let old = url;\n      let out = url.replace(\"https\",'');\n      out = url.replace(\"http\",'');\n      out = url.replace(\"www\",'//www');\n      return '<a class=\"lightBlueLink\" href=\"' + out + '\" target=\"_blank\">' + old + '</a>';\n    });\n\n\n    return ReactHtmlParser(out);\n  };\n\n  return isSentByCurrentUser ? (\n    <div className=\"messageContainer justifyEnd\">\n      <div className=\"messageBox backgroundBlue\">\n        <p className=\"messageText current colorWhite\">\n        {findUrl(text)}\n        </p>\n        <div className=\"date\">\n          <p className=\"timeText colorWhite\">{dateFormatter(date)}</p>\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div className=\"messageContainer justifyStart\">\n      <div className=\"messageBox backgroundLight\">\n        <p className=\"sentText\">{user}</p>\n        <p className=\"messageText  colorDark\">{findUrl(text)}</p>\n        <div className=\"date \">\n          <p className=\"timeText protest\">{dateFormatter(date)}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Message;\n","// eslint-disable-next-line import/no-anonymous-default-export\nexport default (fileName) => {\n\n    let filename = fileName.substring(0, fileName.lastIndexOf('_'))\n    let ext = fileName.substring(fileName.lastIndexOf('.'))\n\n    if (filename.length > 12) {\n      filename =\n      filename.slice(0, 12) + \"...\" ;\n    } \n\n\n    let blobName = filename + ext\n\n\n    return blobName;\n  };","import React from \"react\";\n\nimport \"./FileSave.css\";\nimport dateFormatter from \"../Additions/dateFormatter.js\";\nimport fileNameFormatter from \"../Additions/fileNameFormatter.js\";\n\nconst FileSave = ({ message: { text, user, type, date }, name }) => {\n  let isSentByCurrentUser = false;\n\n  const trimmedName = name.trim();\n\n  if (user === trimmedName) {\n    isSentByCurrentUser = true;\n  }\n\n  return isSentByCurrentUser ? (\n    <div className=\"messageContainer justifyEnd\">\n      <div className=\"messageBox backgroundBlue\">\n        <a\n          href={`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}`}\n        >\n          <nobr>\n            <p className=\"messageText colorWhite\">\n            <img src={process.env.PUBLIC_URL + \"/file_white.svg\"} alt=\"paperclip\" className=\"file_my_img\"/>\n              {fileNameFormatter(text)}\n            </p>\n          </nobr>\n        </a>\n        <div className=\"date\">\n          <p className=\"timeText colorWhite\">{dateFormatter(date)}</p>\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div className=\"messageContainer justifyStart\">\n      <div className=\"messageBox backgroundLight\">\n        <p className=\"sentText\">{user}</p>\n        <a\n          href={`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}`}\n        >\n          <nobr>\n            <p className=\"messageText colorDark\">\n              <img src={process.env.PUBLIC_URL + \"/file_black.svg\"} alt=\"paperclip\" className=\"file_my_img\"/>\n              {fileNameFormatter(text)}\n            </p>\n          </nobr>\n        </a>\n        <div className=\"date \">\n          <p className=\"timeText protest\">{dateFormatter(date)}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FileSave;\n","import React from \"react\";\n\nimport \"./ImageShower.css\";\nimport dateFormatter from \"../Additions/dateFormatter.js\"\nimport fileNameFormatter from \"../Additions/fileNameFormatter.js\"\n\n// eslint-disable-next-line react/prop-types\nconst ImageShower = ({ message: { text, user ,type,date}, name }) => {\n\n  let isSentByCurrentUser = false;\n\n  // eslint-disable-next-line react/prop-types\n  const trimmedName = name.trim()\n\n  if (user === trimmedName) {\n    isSentByCurrentUser = true;\n  }\n\n  return isSentByCurrentUser ? (\n    <div className=\"messageContainer justifyEnd\">\n      <div className=\"messageBox backgroundBlue imageBox\">\n        <a href={`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}`}>\n          <img className=\"imagePreview\"  src = {`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}` } alt={fileNameFormatter(text)} target=\"_blank\"></img>\n          </a>\n          <div className = \"date absoluteImage\">\n          <p className = \"timeText colorWhite\">{dateFormatter(date)}</p>\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div className=\"messageContainer justifyStart\">\n      <div className=\"messageBox backgroundLight imageBox\">\n      <p className=\"sentText\">{user}</p>\n        <a href={`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}`}>\n        <img className=\"imagePreview\"  src = {`https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${process.env.REACT_APP_CONTAINER_NAME}/${text}` } alt={fileNameFormatter(text)} target=\"_blank\"></img>\n        </a>\n        <div className = \"date protestImageDate\">\n          <p className = \"timeText protest\">{dateFormatter(date)}</p>\n        </div>\n\n      </div>\n   \n    </div>\n  );\n};\n\nexport default ImageShower;\n","import React from \"react\";\n\nimport ScrollToBottom from \"react-scroll-to-bottom\";\n\nimport Message from \"./Message/Message\";\nimport FileSave from \"./../FileSave/FileSave\";\nimport ImageShower from \"./../ImageShower/ImageShower\";\n\nimport \"./Messages.css\";\n\nconst Messages = ({ messages, name, loadOld, socket}) => {\n  const addBtn = () => {\n    if (loadOld === 0) {\n      return null;\n    } else {\n      return (\n        <div\n          className=\"loadOldMessageBtn\"\n          onClick={async (e) => {\n            socket.emit(\"load-old\", loadOld);\n          }}\n        >\n          <p className=\"loadText\">Load early messages</p>\n        </div>\n      );\n    }\n  };\n  return (\n    <ScrollToBottom className=\"messages\">\n      {addBtn()}\n      {messages.map((message, i) => {\n        let text;\n        switch (message.type) {\n          case \"text\":\n            if (i === 0) {\n              text = (\n                <div key={i}>\n                  <br></br>\n                  {<Message message={message} name={name} />}\n                </div>\n              );\n            } else {\n              text = (\n                <div key={i}>{<Message message={message} name={name} />}</div>\n              );\n            }\n            break;\n          case \"file\":\n            if (i === 0) {\n              text = (\n                <div key={i}>\n                  <br></br>\n                  {<FileSave message={message} name={name} />}\n                </div>\n              );\n            } else {\n              text = (\n                <div key={i}>{<FileSave message={message} name={name} />}</div>\n              );\n            }\n            break;\n          case \"image\":\n            if (i === 0) {\n              text = (\n                <div key={i}>\n                  <br></br>\n                  {<ImageShower message={message} name={name} />}\n                </div>\n              );\n            } else {\n              text = (\n                <div key={i}>\n                  {<ImageShower message={message} name={name} />}\n                </div>\n              );\n            }\n            break;\n            default:\n              break;\n        }\n        return text;\n      })}\n    </ScrollToBottom>\n  );\n};\nexport default Messages;\n","import React, { Component } from \"react\";\nimport onlineIcon from \"../../icons/onlineIcon.png\";\n\nimport \"./InfoBar.css\";\nclass InfoBar extends Component {\n\ntest =(event) =>{\nevent.preventDefault();\n this.props.openModal();\n}\n\n  render() {\n    return (\n      <form className=\"infoBar\">\n        <div className=\"leftInnerContainer\">\n          <img className=\"onlineIcon\" src={onlineIcon} alt=\"online icon\" />\n          <h3\n            className=\"onlineBtnOpen\"\n            onClick={async (e) => {\n              this.test(e);\n            }}\n            style={{ cursor: \"pointer\" }}\n          >\n            {this.props.room}  ({this.props.userscount})\n          </h3>\n        </div>\n      </form>\n    );\n  }\n}\nexport default InfoBar;\n","import React, { Component } from \"react\";\nimport { BlobServiceClient } from \"@azure/storage-blob\";\nimport \"./Input.css\";\n\nvar fileInLoadKey = false;\nclass Input extends Component {\n  async uploadFile(file) {\n    const SAS_TOKEN =\n      \"?sv=2019-12-12&ss=bfqt&srt=sco&sp=rwdlacupx&se=2021-11-30T16:28:17Z&st=2020-11-30T08:28:17Z&spr=https,http&sig=4ArE7Cljg1Kz%2BL%2BVjbTn9%2FHocXhdOqaqgfRtgh6lehk%3D\";\n    const sasURL = `https://${process.env.REACT_APP_STORAGE_ACCOUNT_NAME}.blob.core.windows.net/${SAS_TOKEN}`;\n\n    const blobServiceClient = new BlobServiceClient(sasURL);\n\n    const containerClient = blobServiceClient.getContainerClient(\n      process.env.REACT_APP_CONTAINER_NAME\n    );\n\n    const filename = file.name.substring(0, file.name.lastIndexOf(\".\"));\n    const ext = file.name.substring(file.name.lastIndexOf(\".\"));\n    const blobName = filename + \"_\" + new Date().getTime() + ext;\n    const blockBlobClient = containerClient.getBlockBlobClient(blobName);\n\n    fileInLoadKey = true;\n    let type = file.type;\n    await blockBlobClient.uploadData(file);\n\n    fileInLoadKey = false;\n    if (\n      type === \"image/png\" ||\n      type === \"image/gif\" ||\n      type === \"image/jpeg\" ||\n      type === \"image/webp\" \n    ) {\n      this.props.setMessageType(\"image\");\n    } else {\n      this.props.setMessageType(\"file\");\n    }\n\n    this.props.setFileName(blobName);\n    this.props.sendFile();\n    this.props.setMessageType(\"text\");\n    let inputs = document.querySelector(\".inputFile\");\n    inputs.value = \"\";\n    if (inputs.value) {\n      inputs.type = \"text\";\n      inputs.type = \"file\";\n    }\n    this.props.setSelectedFile(null);\n    this.props.setLoaded(0);\n  }\n\n  sendMessageFunction = async (e) => {\n    let inputField = document.getElementsByClassName(\"input\");\n    this.props.setMessageType(\"text\");\n    inputField[0].focus();\n    this.props.setMessage(\"\");\n    this.props.sendMessage(e);\n  };\n\n  onChangeHandler = async (event) => {\n    this.formatingFile(event.target.files);\n  };\n\n  formatingFile = async (files) => {\n    if (!fileInLoadKey) {\n      if (files[0].size > 52428800) {\n        alert(\"Файл занадто великий(max 50mb)\");\n      } else {\n        this.props.setSelectedFile(files);\n        this.uploadFile(files[0]);\n      }\n    } else {\n      alert(\"Дочекайся завантаження попереднього файлу\");\n    }\n  };\n\n  onKeyboardPressed = (event) => {\n    var items = (event.clipboardData || event.originalEvent.clipboardData)\n      .items;\n    for (let index in items) {\n      var item = items[index];\n      if (item.kind === \"file\") {\n        var blob = item.getAsFile();\n\n        let blobs = [blob];\n        this.formatingFile(blobs);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <form className=\"form\">\n        <textarea\n          className=\"input\"\n          type=\"text\"\n          placeholder=\"Type a message...\"\n          value={this.props.message}\n          onKeyPress={(event) =>\n            event.key === \"Enter\" ? this.sendMessageFunction(event) : null\n          }\n          onChange={({ target: { value } }) => this.props.setMessage(value)}\n          onPaste={(e) => this.onKeyboardPressed(e)}\n        />\n        <input\n          type=\"file\"\n          hidden=\"hidden\"\n          className=\"inputFile\"\n          onChange={this.onChangeHandler}\n        ></input>\n        <img\n          src={process.env.PUBLIC_URL + \"/attachment.svg\"}\n          alt=\"paperclip\"\n          style={{ cursor: \"pointer\" }}\n          onClick={(e) => {\n            const inputFile = document.querySelector(\".inputFile\");\n            inputFile.click();\n          }}\n          className=\"paperClipButton\"\n        />\n\n        <img\n          src={process.env.PUBLIC_URL + \"/send.svg\"}\n          alt=\"send\"\n          style={{ cursor: \"pointer\" }}\n          className=\"sendButton\"\n          onClick={async (e) => {\n            this.sendMessageFunction(e);\n          }}\n        ></img>\n      </form>\n    );\n  }\n}\n\nexport default Input;\n","import React from \"react\";\n\nimport \"./FileSpawn.css\";\n\n// eslint-disable-next-line react/prop-types\nconst FileSpawn = ({ selectedFile }) => {\n  const filesArray = [...selectedFile];\n\n  return (\n    <div>\n      <div className=\"outerFileContainer\">\n        <div className=\"innerFileContainer\">\n          {filesArray.map((f) => (\n            <div key={f.lastModified} className=\"fileName\">\n              <p key={f.lastModified + new Date()}>{f.name}</p>\n              <div id=\"cancelFileSelect\">\n              <img src={process.env.PUBLIC_URL + \"/load.gif\"} alt=\"loading\" className = \"loading_image\"/>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FileSpawn;\n","import React from \"react\";\n\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport Chat from \"./components/Chat/Chat\";\n\nconst App = () => (\n  <Router>\n    <Route path=\"\" exact component={Chat} />\n  </Router>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}